<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë¡œê·¸ íŠ¸ë¦¬ê±° í…ŒìŠ¤íŠ¸ í˜ì´ì§€</title>

  <script>
    const queryParams = new URLSearchParams(location.search);
    const projectKey = queryParams.get('projectKey');
    if (!projectKey) alert('projectKeyê°€ ì „ë‹¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');

    const sdk = document.createElement('script');
    sdk.src = "https://behavior-tracking-sdk.vercel.app/sdk.js";
    sdk.dataset.key = projectKey;

    // ê°œë°œìš© API ì„œë²„ ë¶„ê¸°
    if (location.hostname.includes('localhost')) {
      sdk.dataset.api = 'http://localhost:8080';
    }

    // âœ… í•µì‹¬ í¬ì¸íŠ¸: SDK ë¡œë“œ ì™„ë£Œ í›„ BehaviorSDK.init() í˜¸ì¶œ
    sdk.onload = () => {
      console.log('[SDK INIT] í˜¸ì¶œë¨:', {
        key: sdk.dataset.key,
        api: sdk.dataset.api
      });

      window.BehaviorSDK.init({
        projectKey: sdk.dataset.key,
        apiUrl: sdk.dataset.api,
        scrollThreshold: 0.3
      });
    };

    document.head.appendChild(sdk);
  </script>

  <style>
    body { font-family: sans-serif; padding: 2rem; }
    #scrollTarget { margin-top: 1500px; padding: 2rem; background: #f0f0f0; text-align: center; }
  </style>
</head>
<body>

<h1>âœ… SDK ì¡°ê±´ íŠ¸ë¦¬ê±° í…ŒìŠ¤íŠ¸</h1>

<p>ì´ í˜ì´ì§€ëŠ” ë‹¤ìŒ ì¡°ê±´ì„ íŠ¸ë¦¬ê±°í•©ë‹ˆë‹¤:</p>
<ul>
  <li>ğŸ“„ page_view ì „ì†¡</li>
  <li>ğŸ•’ ì¼ì • ì‹œê°„ ì²´ë¥˜ (ì˜ˆ: 5ì´ˆ ì´ìƒ â†’ stay_time)</li>
  <li>ğŸ–± ë²„íŠ¼ í´ë¦­ (click)</li>
  <li>â¬‡ 30% ì´ìƒ ìŠ¤í¬ë¡¤ (scroll_depth)</li>
</ul>

<hr>

<button onclick="alert('í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒ!')">ë²„íŠ¼ í´ë¦­ í…ŒìŠ¤íŠ¸</button>
<div id="scrollTarget">â¬‡ ì—¬ê¸°ê¹Œì§€ ìŠ¤í¬ë¡¤í•˜ë©´ scroll_depth ì¡°ê±´ì´ ë°œë™ë©ë‹ˆë‹¤</div>

</body>
</html>
